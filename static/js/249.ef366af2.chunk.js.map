{"version":3,"file":"static/js/249.ef366af2.chunk.js","mappings":"+NAUA,MA8JA,EA9JsBA,KACpB,MAAMC,GAAWC,EAAAA,EAAAA,OACX,UAAEC,EAAS,SAAEC,IAAaC,EAAAA,EAAAA,MACzBC,EAAeC,IAAoBC,EAAAA,EAAAA,UAAS,OAC5CC,EAAiBC,IAAsBF,EAAAA,EAAAA,UAAS,IAGjDG,GAAWC,EAAAA,EAAAA,MAEXC,GAAkBC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,KAAKH,kBA6E1D,OA/BAI,EAAAA,EAAAA,YAAU,MACRC,iBACE,IACE,MAAMC,QAAiBC,MAAM,+CAADC,OACqBjB,IAE3CkB,QAAaH,EAASI,OAGtBC,EAAkBF,EAAKG,MAC1BC,GAAMA,EAAE,gBAAkBC,OAAOxB,KAGpCI,EAAiBiB,GACjBI,OAAOC,SAAS,EAAG,GAGnB,MAAMC,EAAUR,EACbS,QAAQL,GAAMA,EAAE,gBAAkBC,OAAOxB,KACzC6B,MAAK,IAAM,GAAMC,KAAKC,WACtBC,MAAM,EAAG,IAEZzB,EAAmBoB,EACrB,CAAE,MAAOM,GACPC,QAAQD,MAAM,kCAAmCA,EACnD,CACF,CAEAE,EAAkB,GACjB,CAACnC,EAAWC,IAEVE,GASHiC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAE7BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAcG,QAASA,IAAMhC,GAAU,GAAG8B,UACvDC,EAAAA,EAAAA,KAACE,EAAAA,IAAkB,CAACJ,UAAU,kBAGhCD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,KAAA,OACEG,IAAKvC,EAAcwC,MACnBN,UAAU,aACVO,IAAKzC,EAAc0C,iBAIvBT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iBAAgBC,SAAEnC,EAAc2C,SAC9CP,EAAAA,EAAAA,KAAA,KAAGF,UAAU,OAAMC,SAAEnC,EAAc0C,eACnCT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,SAAC,oCACtBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,SAAQC,SAAC,sBAE1BC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,eAAcC,SAAEnC,EAAc4C,SAE3CX,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,cAAcG,QA9GpBQ,KAChBtC,GACFZ,GAASmD,EAAAA,EAAAA,IAAQ9C,IAEjB+C,EAAAA,GAAMC,SACJf,EAAAA,EAAAA,MAAA,OAAKgB,MAAO,CAAEC,QAAS,OAAQC,WAAY,SAAUC,IAAK,QAASjB,SAAA,EACjEC,EAAAA,EAAAA,KAAA,OACEG,IAAKvC,EAAcwC,MACnBC,IAAI,UACJQ,MAAO,CAAEI,MAAO,OAAQC,OAAQ,OAAQC,UAAW,YAErDnB,EAAAA,EAAAA,KAAA,QAAAD,SAAM,oBAER,CACEqB,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,MAAO,OACPC,WAAYC,EAAAA,GACZ7B,UAAW,kBAIfa,EAAAA,GAAMjB,MAAM,cAAe,CACzB0B,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdI,WAAW,EACXC,cAAUC,EACVL,MAAO,OACPC,WAAYC,EAAAA,IAEhB,EA0E+D5B,SAAC,iBAIxDC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,cAAcG,QAzEhB8B,KACxBxE,GAASyE,EAAAA,EAAAA,IAAYpE,GAAe,EAwE+BmC,SAAC,wBAK9DC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBC,EAAAA,EAAAA,KAAA,OAAKG,IAAK8B,EAAQ5B,IAAI,cAO5BR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,kBAAiBC,SAAC,sBAEhCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,UAChCC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,SAC/BhC,EAAgBmE,KAAKC,IACpBnC,EAAAA,EAAAA,KAACoC,EAAAA,EAAI,CAEHC,SAAUF,EACVzE,SAAUA,GAFLyE,EAAQ,4BAxDvBnC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,kBAAiBC,UAC9BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,gCAiEF,C","sources":["pages/ProductDetail/ProductDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./ProductDetail.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { addCart, addWishList } from \"../../Slice/ProductSlice\";\r\nimport { toast, Bounce } from \"react-toastify\";\r\nimport Card from \"../../components/Card/Card\";\r\nimport Coupon from \"../../assets/applycoupon.png\";\r\n\r\nconst ProductDetail = () => {\r\n  const dispatch = useDispatch();\r\n  const { productId, category } = useParams(); // Get productId & category from URL\r\n  const [singleProduct, setSingleProduct] = useState(null);\r\n  const [relatedProducts, setRelatedProducts] = useState([]); // Store related products\r\n\r\n  // back-button\r\n  const navigate = useNavigate();\r\n\r\n  const isAuthenticated = useSelector((state) => state.auth.isAuthenticated);\r\n  const handleAddCart = () => {\r\n    if (isAuthenticated) {\r\n      dispatch(addCart(singleProduct));\r\n\r\n      toast.success(\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}>\r\n          <img\r\n            src={singleProduct.Image}\r\n            alt=\"Product\"\r\n            style={{ width: \"40px\", height: \"40px\", objectFit: \"cover\" }}\r\n          />\r\n          <span>Added to Bag</span>\r\n        </div>,\r\n        {\r\n          position: \"top-right\",\r\n          autoClose: 1000,\r\n          hideProgressBar: false,\r\n          closeOnClick: false,\r\n          pauseOnHover: true,\r\n          theme: \"dark\",\r\n          transition: Bounce,\r\n          className: \"custom-toast\",\r\n        }\r\n      );\r\n    } else {\r\n      toast.error(\"Login first\", {\r\n        position: \"top-right\",\r\n        autoClose: 1000,\r\n        hideProgressBar: false,\r\n        closeOnClick: false,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n        theme: \"dark\",\r\n        transition: Bounce,\r\n      });\r\n    }\r\n  };\r\n\r\n  // wishlist\r\n\r\n  const handleAddWishlist = () => {\r\n    dispatch(addWishList(singleProduct));\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchProductData() {\r\n      try {\r\n        const response = await fetch(\r\n          `https://ecommerceflaskapi.vercel.app/api/v1/${category}`\r\n        );\r\n        const data = await response.json();\r\n\r\n        // Find the selected product by productId\r\n        const selectedProduct = data.find(\r\n          (p) => p[\"Unnamed: 0\"] === Number(productId)\r\n        );\r\n\r\n        setSingleProduct(selectedProduct);\r\n        window.scrollTo(0, 0);\r\n\r\n        // Filter out the selected product from the list\r\n        const related = data\r\n          .filter((p) => p[\"Unnamed: 0\"] !== Number(productId)) // Exclude current product\r\n          .sort(() => 0.5 - Math.random()) // Shuffle randomly\r\n          .slice(0, 10); // Take first 5 items\r\n\r\n        setRelatedProducts(related);\r\n      } catch (error) {\r\n        console.error(\"Error fetching product details:\", error);\r\n      }\r\n    }\r\n\r\n    fetchProductData();\r\n  }, [productId, category]);\r\n\r\n  if (!singleProduct) {\r\n    return (\r\n      <div className=\"loading-product\">\r\n        <h2>Loading product details...</h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"parent-element\">\r\n      {/* back button */}\r\n      <div className=\"back-button\" onClick={() => navigate(-1)}>\r\n        <IoMdArrowRoundBack className=\"back-arrow\" />\r\n      </div>\r\n      {/* Main Product Detail */}\r\n      <div className=\"single-product-container\">\r\n        <div className=\"left-single\">\r\n          <img\r\n            src={singleProduct.Image}\r\n            className=\"img-single\"\r\n            alt={singleProduct.Description}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"right-single\">\r\n          <h2 className=\"heading-single\">{singleProduct.Brand}</h2>\r\n          <p className=\"desc\">{singleProduct.Description}</p>\r\n          <div className=\"cart-rating\">\r\n            <div className=\"star\">⭐⭐⭐⭐⭐</div>\r\n            <div className=\"review\">(123 reviews)</div>\r\n          </div>\r\n          <p className=\"single-price\">{singleProduct.Price}</p>\r\n\r\n          <div className=\"button-div\">\r\n            <button className=\"add-to-cart\" onClick={handleAddCart}>\r\n              Add to Cart\r\n            </button>\r\n\r\n            <button className=\"add-to-cart\" onClick={handleAddWishlist}>\r\n              Add to Wishlist\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"coupon-div\">\r\n            <img src={Coupon} alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Related Products Section */}\r\n\r\n      <div className=\"related-con\">\r\n        <h1 className=\"related-heading\">Related Products</h1>\r\n\r\n        <div className=\"related-container\">\r\n          <div className=\"related-card-list\">\r\n            {relatedProducts.map((product) => (\r\n              <Card\r\n                key={product[\"Unnamed: 0\"]}\r\n                products={product}\r\n                category={category}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* <CateCategory /> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"names":["ProductDetail","dispatch","useDispatch","productId","category","useParams","singleProduct","setSingleProduct","useState","relatedProducts","setRelatedProducts","navigate","useNavigate","isAuthenticated","useSelector","state","auth","useEffect","async","response","fetch","concat","data","json","selectedProduct","find","p","Number","window","scrollTo","related","filter","sort","Math","random","slice","error","console","fetchProductData","_jsxs","className","children","_jsx","onClick","IoMdArrowRoundBack","src","Image","alt","Description","Brand","Price","handleAddCart","addCart","toast","success","style","display","alignItems","gap","width","height","objectFit","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","theme","transition","Bounce","draggable","progress","undefined","handleAddWishlist","addWishList","Coupon","map","product","Card","products"],"sourceRoot":""}